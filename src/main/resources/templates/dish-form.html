<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title th:text="${dish != null ? 'Edit Dish' : 'Add New Dish'}">Dish Form</title>
</head>
<body>
<h1 th:text="${dish != null ? 'Edit Dish' : 'Add New Dish'}">Dish Form</h1>

<form th:action="${dish != null ? '/dishes/edit/' + dish.id : '/dishes/add'}" method="post">

    <label>Dish ID:</label><br>
    <input type="text" name="dishId" th:value="${dish != null ? dish.dishId : ''}" required><br><br>

    <label>Name:</label><br>
    <input type="text" name="name" th:value="${dish != null ? dish.name : ''}" required><br><br>

    <label>Cuisine:</label><br>
    <input type="text" name="cuisine" th:value="${dish != null ? dish.cuisine : ''}" required><br><br>

    <label>Preparation Time (minutes):</label><br>
    <input type="number" name="preparationTime" th:value="${dish != null ? dish.preparationTime : ''}" required><br><br>

    <label>Chef:</label><br>
    <select name="chefId">
        <option value="">-- Select Chef (Optional) --</option>
        <option th:each="chef : ${chefs}"
                th:value="${chef.id}"
                th:text="${chef.firstName + ' ' + chef.lastName}"
                th:selected="${dish != null && dish.chef != null && dish.chef.id == chef.id}"></option>
    </select><br><br>

    <button type="submit" th:text="${dish != null ? 'Update Dish' : 'Add Dish'}">Submit</button>
    <a href="/dishes"><button type="button">Cancel</button></a>
</form>
</body>
</html>